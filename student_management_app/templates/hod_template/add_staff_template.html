{% extends 'hod_template/base_template.html' %}

{% block page_title %}
<<<<<<< Updated upstream
    Add Staff
{% endblock page_title %}

{% block main_content %}

{% load static %}

<section class="content">
        <div class="container-fluid"> 

            <div class="row">
                <div class="col-md-12">
                    <!-- general form elements -->
                    <div class="card card-primary">
                    <div class="card-header">
                        <h3 class="card-title">Add Staff</h3>
                    </div>
                    <!-- /.card-header -->
                    <!-- form start -->
                    <form role="form" method="POST" action="{% url 'add_staff_save' %}" enctype="multipart/form-data">
=======
    Add Faculty
{% endblock page_title %}

{% block main_content %}
{% load static %}

<!-- Include Bootstrap CSS (if not already included in base_template.html) -->
<link href="{% static 'bootstrap-4.0.0-dist\css\bootstrap.min.css' %}" rel="stylesheet">

<!-- Custom Styles -->
<style>
    .form-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    .form-title {
        font-weight: bold;
        background-color: #f8f9fa;
        padding: 10px;
        text-align: center;
        margin-bottom: 20px;
    }
    .form-section {
        margin-top: 20px;
        border-top: 1px solid #ddd;
        padding-top: 20px;
    }
    .form-label {
        font-weight: bold;
    }
</style>

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <!-- general form elements -->
                <div class="card card-primary">
                    <div class="card-header">
                        <h3 class="card-title">Add Faculty</h3>
                    </div>
                    <!-- /.card-header -->
                    <!-- form start -->
                    <form role="form" method="POST" action="{% url 'add_staff_save' %}">
>>>>>>> Stashed changes
                        {% csrf_token %}
                    
                        <!-- Display Messages -->
                        {% if messages %}
<<<<<<< Updated upstream
                        <div class="form-group">
                            <div class="col-12">
                                {% for message in messages %}
                                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" style="margin-top: 10px;">
                                        {{ message }}
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        {% endif %}
                    
                        <div class="card-body">
                            <div class="form-group">
                                <label>Email address</label>
                                <input type="email" class="form-control" name="email" placeholder="Enter email" id="id_email">
                            </div>
                    
                            <div class="form-group">
                                <label>Username</label>
                                <input type="text" class="form-control" name="username" placeholder="Username" id="id_username">
                            </div>
                    
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" class="form-control" name="password" placeholder="Password">
                            </div>
                    
                            <div class="form-group">
                                <label>First Name</label>
                                <input type="text" class="form-control" name="first_name" placeholder="First Name">
                            </div>
                    
                            <div class="form-group">
                                <label>Last Name</label>
                                <input type="text" class="form-control" name="last_name" placeholder="Last Name">
                            </div>
                    
                            <!-- Address Fields -->
                            <div class="form-group">
                                <label>Street</label>
                                <input type="text" class="form-control" name="street" placeholder="Street">
                            </div>
                    
                            <div class="form-group">
                                <label>Barangay</label>
                                <input type="text" class="form-control" name="barangay" placeholder="Barangay">
                            </div>
                    
                            <div class="form-group">
                                <label>City</label>
                                <input type="text" class="form-control" name="city" placeholder="City">
                            </div>
                    
                            <div class="form-group">
                                <label>Region</label>
                                <input type="text" class="form-control" name="region" placeholder="Region">
                            </div>
                    
                            <!-- Employee Info -->
                            <div class="form-group">
                                <label>Employee No</label>
                                <input type="text" class="form-control" name="employee_no" placeholder="Employee No">
                            </div>
                    
                            <div class="form-group">
                                <label>Registration No</label>
                                <input type="text" class="form-control" name="registration_no" placeholder="Registration No">
                            </div>
                    
                            <div class="form-group">
                                <label>Registration Date</label>
                                <input type="date" class="form-control" name="registration_date" placeholder="Registration Date">
                            </div>
                    
                            <!-- File Uploads -->
                            <div class="form-group">
                                <label>Profile Picture</label>
                                <input type="file" class="form-control" name="profile_pic">
                            </div>
                    
                            <div class="form-group">
                                <label>Teacher License</label>
                                <input type="file" class="form-control" name="teacher_license">
                            </div>
                    
                            <div class="form-group">
                                <label>Signature</label>
                                <input type="file" class="form-control" name="signature">
                            </div>
                        </div>
                    
                        <div class="card-footer">
                            <button type="submit" class="btn btn-primary">Add Staff</button>
                        </div>
                    </form>
                    
                    </div>
                    <!-- /.card -->

                </div>
            </div>

        </div><!-- /.container-fluid -->
      </section>

  {% endblock main_content %}

    {% block custom_js %}
    {% comment %} Checking if email and username already exists or not usin Ajax {% endcomment %}

    <script>
        $(document).ready(function(){
            // keyup event will be triggered when user leaves keyboard
            $("#id_email").keyup(function(){
                var email = $(this).val();

                if(email!=""){
                    $.ajax({
                        url : '{% url 'check_email_exist' %}',
                        type : 'POST',
                        data : {email:email}
                    })
                    .done(function(response){
                        //console.log(response);

                        if(response == "True"){
                            $(".email_error").remove();
                            $("<span class='email_error' style='color: red; padding: 5px; font-weight: bold;'> Email Not Available. </span>").insertAfter("#id_email")
                        }
                        else{
                            $(".email_error").remove();
                            $("<span class='email_error' style='color: green; padding: 5px; font-weight: bold;'> Email Available. </span>").insertAfter("#id_email")
                        }
                    })

                    .fail(function(){
                        console.log("Failed");
                    })
                }
                else{
                    $(".email_error").remove();
                }
                
            })

            $("#id_username").keyup(function(){
                var username = $(this).val();
                
                if(username!=""){
                    $.ajax({
                        url : '{% url 'check_username_exist' %}',
                        type : 'POST',
                        data : {username:username}
                    })
                    .done(function(response){
                        //console.log(response);

                        if(response == "True"){
                            $(".username_error").remove();
                            $("<span class='username_error' style='color: red; padding: 5px; font-weight: bold;'> Username Not Available. </span>").insertAfter("#id_username")
                        }
                        else{
                            $(".username_error").remove();
                            $("<span class='username_error' style='color: green; padding: 5px; font-weight: bold;'> Username Available. </span>").insertAfter("#id_username")
                        }
                    })

                    .fail(function(){
                        console.log("Failed");
                    })
                }
                else{
                    $(".username_error").remove();
                }
                
            })
        })
    </script>

  {% endblock custom_js %}
=======
                        <div class="container">
                            {% for message in messages %}
                            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" style="margin-top: 10px;">
                                {{ message }}
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}
                    
                        <!-- Form Container -->
                        <div class="form-container">
                            <div class="form-title">I. PERSONAL INFORMATION</div>
                    
                            <!-- Surname, First Name, Middle Name -->
                            <div class="form-group row">
                                <label for="last_name" class="col-sm-3 col-form-label form-label">Last Name</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Enter your last name">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="first_name" class="col-sm-3 col-form-label form-label">First Name</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="first_name" name="first_name" placeholder="Enter your first name">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="middle_name" class="col-sm-3 col-form-label form-label">Middle Name</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="middle_name" name="middle_name" placeholder="Enter your middle name">
                                </div>
                            </div>
                    
                            <!-- Date of Birth -->
                            <div class="form-group row">
                                <label for="dob" class="col-sm-3 col-form-label form-label">Date of Birth</label>
                                <div class="col-sm-9">
                                    <input type="date" class="form-control" id="dob" name="dob" placeholder="Select your date of birth" onchange="calculateAge()">
                                </div>
                            </div>
                    
                            <!-- Age -->
                            <div class="form-group row">
                                <label for="age" class="col-sm-3 col-form-label form-label">Age</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="age" name="age" placeholder="Age will be calculated automatically" readonly>
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="pob" class="col-sm-3 col-form-label form-label">Place of Birth</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="pob" name="pob" placeholder="Enter your place of birth">
                                </div>
                            </div>
                    
                            <!-- Sex -->
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label form-label">Sex</label>
                                <div class="col-sm-9">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="male" name="sex" value="Male">
                                        <label class="form-check-label" for="male">Male</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="female" name="sex" value="Female">
                                        <label class="form-check-label" for="female">Female</label>
                                    </div>
                                </div>
                            </div>
                    
                            <!-- Civil Status -->
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label form-label">Civil Status</label>
                                <div class="col-sm-9">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="single" name="civil_status" value="Single">
                                        <label class="form-check-label" for="single">Single</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="married" name="civil_status" value="Married">
                                        <label class="form-check-label" for="married">Married</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="other" name="civil_status" value="Other">
                                        <label class="form-check-label" for="other">Other</label>
                                    </div>
                                </div>
                            </div>
                    
                            <!-- Height, Weight, Blood Type -->
                            <div class="form-group row">
                                <label for="height" class="col-sm-3 col-form-label form-label">Height (m)</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="height" name="height" placeholder="Enter your height in meters">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="weight" class="col-sm-3 col-form-label form-label">Weight (kg)</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="weight" name="weight" placeholder="Enter your weight in kilograms">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="blood_type" class="col-sm-3 col-form-label form-label">Blood Type</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="blood_type" name="blood_type" placeholder="Enter your blood type">
                                </div>
                            </div>
                    
                            <!-- GSIS, PAG-IBIG, PHILHEALTH, SSS -->
                            <div class="form-group row">
                                <label for="gsis_id" class="col-sm-3 col-form-label form-label">GSIS ID No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="gsis_id" name="gsis_id" placeholder="Enter your GSIS ID number">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="pagibig_id" class="col-sm-3 col-form-label form-label">PAG-IBIG ID No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="pagibig_id" name="pagibig_id" placeholder="Enter your PAG-IBIG ID number">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="philhealth_id" class="col-sm-3 col-form-label form-label">PHILHEALTH No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="philhealth_id" name="philhealth_id" placeholder="Enter your PHILHEALTH number">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="sss_id" class="col-sm-3 col-form-label form-label">SSS No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="sss_id" name="sss_id" placeholder="Enter your SSS number">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="tin_id" class="col-sm-3 col-form-label form-label">TIN No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="tin_id" name="tin_id" placeholder="Enter your TIN number">
                                </div>
                            </div>
                    
                            <!-- Citizenship -->
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label form-label">Citizenship</label>
                                <div class="col-sm-9">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="filipino" name="citizenship" value="Filipino" onchange="toggleDualCountry(false)">
                                        <label class="form-check-label" for="filipino">Filipino</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="dual" name="citizenship" value="Dual" onchange="toggleDualCountry(true)">
                                        <label class="form-check-label" for="dual">Dual Citizenship</label>
                                    </div>
                                    <div class="form-check" id="dual_country_container" style="display: none;">
                                        <input class="form-control" type="text" id="dual_country" name="dual_country" placeholder="If dual, specify country">
                                    </div>
                                </div>
                            </div>
                    
                            <!-- Permanent Address -->
                            <div class="form-group row">
                                <label for="permanent_address" class="col-sm-3 col-form-label form-label">Permanent Address</label>
                                <div class="col-sm-9">
                                    <textarea class="form-control" id="permanent_address" name="permanent_address" rows="3" placeholder="Enter your permanent address"></textarea>
                                </div>
                            </div>
                    
                            <!-- Contact Numbers -->
                            <div class="form-group row">
                                <label for="telephone_no" class="col-sm-3 col-form-label form-label">Telephone No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="telephone_no" name="telephone_no" placeholder="Enter your telephone number">
                                </div>
                            </div>
                    
                            <div class="form-group row">
                                <label for="cellphone_no" class="col-sm-3 col-form-label form-label">Cellphone No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="cellphone_no" name="cellphone_no" placeholder="Enter your cellphone number">
                                </div>
                            </div>
                    
                            <!-- Email Address -->
                            <div class="form-group row">
                                <label for="email_address" class="col-sm-3 col-form-label form-label">Email Address</label>
                                <div class="col-sm-9">
                                    <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email address">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label for="email_address" class="col-sm-3 col-form-label form-label">Password</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control" id="password" name="password" placeholder="Enter password">
                                </div>
                            </div>

                            <!-- Save Button -->
                            <div class="form-group row">
                                <div class="col-sm-12 text-center">
                                    <button type="submit" class="btn btn-primary">Save</button>
                                    <a href="{% url 'add_staff' %}" class="btn btn-secondary">Cancel</a>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Include Bootstrap JS (if not already included in base_template.html) -->
<script src="{% static 'bootstrap-4.0.0-dist\js\bootstrap.bundle.min.js' %}"></script> 

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var dualCitizenRadio = document.getElementById('dual');
        var dualCountryContainer = document.getElementById('dual_country_container');

        // Function to handle showing or hiding the text field
        function toggleDualCountryContainer() {
            if (dualCitizenRadio.checked) {
                dualCountryContainer.style.display = 'block';
            } else {
                dualCountryContainer.style.display = 'none';
            }
        }

        // Add event listeners to handle changes
        var radios = document.querySelectorAll('input[name="citizenship"]');
        radios.forEach(function(radio) {
            radio.addEventListener('change', toggleDualCountryContainer);
        });

        // Initial check in case the page is loaded with Dual Citizenship selected
        toggleDualCountryContainer();
    });

    function calculateAge() {
        const dobInput = document.getElementById('dob').value;
        if (dobInput) {
            const dob = new Date(dobInput);
            const today = new Date();
            let age = today.getFullYear() - dob.getFullYear();
            const monthDiff = today.getMonth() - dob.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
                age--;
            }
            document.getElementById('age').value = age;
        } else {
            document.getElementById('age').value = '';
        }
    }
</script>


{% endblock %}
>>>>>>> Stashed changes
